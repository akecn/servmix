{
    "rules": [
        {
            "expression": "**/*.html",
            "tasks": ["html"]
        },
        {
            "expression": "**/*.css",
            "tasks": ["less", "minify"]
        },
        {
            "expression": "**/*+.(md|markdown)",
            "tasks": ["markdown"]
        },
        {
            "expression": "**/test/*.js",
            "tasks": ["wrap"]
        }
    ],
    "configure": {
        "wrap": {
            "wrapper": "amd"
        },
        "html": {
            "pattern": "*[data-servmix]",
            "mappings": [
                {
                    "href": ["./??index.css,wrap.css"],
                    "replace": {
                        "type": "file",
                        "tasks": ["less", "minify"]
                    }
                },
                {
                    "href": ["../src/??basic.css,index.css"],
                    "replace": {
                        "type": "file",
                        "tasks": ["less", "minify"]
                    }
                }
            ]
        }
    }
}